<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Des jours Grece</title>
  <style>
    body { font-family: sans-serif; margin: 2em; background: #f5f5f5; }
    #categories { margin-bottom: 1em; }
    button {
      margin: 0.2em;
      padding: 0.5em 1em;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #333;
      color: white;
    }
    button:hover { background: #555; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1em; }
    .video-card { border: 1px solid #ddd; padding: 0.5em; border-radius: 10px; background: white; }
    iframe { width: 100%; height: 200px; border-radius: 8px; border: none; }
  </style>
</head>
<body>
  <h1>Des jours Grece</h1>
  <div id="categories"></div>
  <div class="grid" id="video-container"></div>

  <script>
    fetch("videos.json")
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("video-container");
        const categoriesDiv = document.getElementById("categories");

        // Extraire toutes les catégories uniques
        const categories = [...new Set(data.flatMap(v => v.categories))];

        // Bouton "Toutes"
        const allBtn = document.createElement("button");
        allBtn.textContent = "Toutes";
        allBtn.onclick = () => renderVideos(data);
        categoriesDiv.appendChild(allBtn);

        // Boutons par catégorie
        categories.forEach(cat => {
          const btn = document.createElement("button");
          btn.textContent = cat;
          btn.onclick = () => renderVideos(data.filter(v => v.categories.includes(cat)));
          categoriesDiv.appendChild(btn);
        });

        // Fonction pour afficher les vidéos
        function renderVideos(list) {
          container.innerHTML = "";
          list.forEach(video => {
            const card = document.createElement("div");
            card.className = "video-card";
            card.innerHTML = `
              <h3>${video.titre}</h3>
              <iframe src="${video.url}" allowfullscreen></iframe>
            `;
            container.appendChild(card);
          });
        }

        // Affichage initial
        renderVideos(data);
      });
  </script>
</body>
</html>

